query event($id: ID!) {
  event(id: $id) {
    ...Event
  }
}

fragment EventFields on EventType {
  id
  title
  startTime
  shortDescription
  allowedGradeYears
  isFull
  isAttendable
  userAttendance {
    isSignedUp
    isOnWaitingList
  }
  organization {
    id
    color
  }
}

query events($organization: String, $category: String, $startTime: DateTime, $endTime: DateTime) {
  allEvents(organization: $organization, category: $category, startTime: $startTime, endTime: $endTime) {
    ...EventFields
  }
  defaultEvents {
    ...EventFields
  }
  user {
    id
    gradeYear
  }
}

fragment EventDetailFields on EventType {
  id
  title
  description
  shortDescription
  startTime
  endTime
  location
  contactEmail
  allowedGradeYears
  hasExtraInformation
  isFull
  signupOpenDate
  deadline
  isAttendable
  bindingSignup
  price
  product {
    id
  }
  userAttendance {
    isSignedUp
    isOnWaitingList
    positionOnWaitingList
    hasBoughtTicket
  }
  category {
    id
    name
  }
  organization {
    id
    name
    logoUrl
  }
}

query eventDetails($id: ID!) {
  event(id: $id) {
    ...EventDetailFields
  }
}

query allEvents($organization: String, $category: String, $startTime: DateTime, $endTime: DateTime) {
  allEvents(organization: $organization, category: $category, startTime: $startTime, endTime: $endTime) {
    ...EventInList
  }
}

query defaultEvents {
  defaultEvents {
    ...EventInList
  }
}

query allCategories {
  allCategories {
    id
    name
  }
}

query eventFilteredOrganizations {
  eventFilteredOrganizations {
    id
    name
    color
    children {
      id
      name
    }
  }
}

query adminEvent($id: ID!) {
  event(id: $id) {
    ...AdminEvent
  }
}

query eventSignUps($id: ID!) {
  event(id: $id) {
    isAttendable
    usersAttending {
      userEmail
    }
  }
}

query attendeeReport($eventId: ID!, $fields: [String!], $filetype: String) {
  attendeeReport(eventId: $eventId, fields: $fields, filetype: $filetype)
}

query attendeeReportOrg($orgId: ID!, $fields: [String!], $filetype: String) {
  attendeeReportOrg(orgId: $orgId, fields: $fields, filetype: $filetype)
}

query attendeeReports($eventIds: [ID!]!, $fields: [String!], $filetype: String) {
  attendeeReports(eventIds: $eventIds, fields: $fields, filetype: $filetype)
}

query eventUserOrganizations {
  user {
    id
    organizations {
      id
    }
  }
}
